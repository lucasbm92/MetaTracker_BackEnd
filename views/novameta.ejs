<!DOCTYPE html>
<html>
  <head>
    <title>Insert Meta</title>
  </head>
  <body>
    <div id="insertMeta">
      <h2>Nova Meta</h2>
      <% if (typeof errorMessage !== 'undefined') { %>
      <div class="alert alert-danger"><%= errorMessage %></div>
      <% } %>
      <form action="/meta" method="post">
        <div class="form-group">
          <label for="titulo">Titulo:</label>
          <input
            type="text"
            name="titulo"
            id="titulo"
            placeholder="Titulo"
            required
          />
        </div>
        <div class="form-group">
          <label for="descricao">Descricao:</label>
          <textarea
            name="descricao"
            id="descricao"
            placeholder="Descrição"
            required
          ></textarea>
        </div>
        <div class="form-group">
          <label for="aluno">Aluno:</label>
          <input
            type="text"
            name="aluno"
            id="aluno"
            placeholder="Aluno"
            required
          />
        </div>
        <div class="form-group">
          <label for="prazo">Prazo:</label>
          <input type="date" name="prazo" id="prazo" required />
        </div>
        <button type="submit">Insert</button>
      </form>
      <button id="logoutButton">Logout</button>
    </div>

    <script>
      document
        .getElementById("logoutButton")
        .addEventListener("click", function () {
          fetch("/logout", { method: "POST" })
            .then((response) => {
              if (response.ok) {
                window.location.href = "/login";
              } else {
                console.error("Logout failed");
              }
            })
            .catch(console.error);
        });
    </script>
  </body>
</html>
